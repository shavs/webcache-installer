<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Webcache - download pages offline for later usage</title>
    <style media="screen">
      html, body {
        font: 'Roboto', Arial, sans-serif;
        height: auto;
        width: auto;
        padding: 0;
        margin: 0;
      }

      section {
        background: #CCC;
      }

      div.comments {
        background: #BBB;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>WebCache - download pages offline for later usage</h1>
      <p>
        This is to download single webpages. This has two benefits:
      </p>
      <ol>
        <li>The page can be viewed as though it were the original page,
          hosted from the server with almost all resources available</li>
          <li>The page can be viewed anywhen and can be rehosted on a private server</li>
      </ol>
    </header>
    <main>
      <!-- #GenCode -->
      <!-- #EndGenCode -->
      <script type="text/javascript">
      // This search function uses these rules:
      // 1. Only look in the same case as the search input
      // 2. Hide all results that do not need to be shown
      // 3. Only searches through all of the heading tags, not the description.
        document.getElementsByTagName('input')[0].addEventListener('keyup', function () {
          // Get the tags that matter
          h2s = document.getElementsByTagName('h2');
          // Get the string information
          string = document.getElementsByTagName('input')[0].value;
          // We also need to get the section tag above it
          sections = document.getElementsByTagName('section');

          // Create an empty array
          h2array = [];
          // Loop through the h2 to get the values of each of them
          for (var i = 0; i < h2s.length; i++) {
            // Create an array of text from the innerHTML of each h2
            h2array.push(h2s[i].innerHTML);
          }

          // Hide all of the sections
          document.querySelector('section').style.display = 'none';
          // Separator for each element
          console.log('--------------------------------------------------');
          for (var n = 0; n < h2array.length; n++) {
            if (h2array[n].includes(string)) {
              // Print out a match
              console.log("We have a match for: " + h2array[n]);
              // Show a match for this element
              document.getElementsByTagName('section')[n].style.display = 'block';
            } else {
              // Hide the element
              document.getElementsByTagName('section')[n].style.display = 'none';
            }
          }
          console.log('--------------------------------------------------');
        });

      </script>
    </main>
  </body>
</html>
